% \documentclass[b5paper,twoside,openright]{report}
\documentclass[b5paper,twoside]{report}
\usepackage[lmargin=25mm,rmargin=25mm,tmargin=27mm,bmargin=30mm]{geometry}

\usepackage[T1]{fontenc}
\usepackage[toc]{appendix}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{color}
\usepackage{graphicx}
\usepackage[colorlinks,linkcolor=purple]{hyperref}
% \usepackage{libertinust1math}
\usepackage{libertine}
\usepackage{inconsolata}
\usepackage{listings}
% \usepackage{parskip}
\usepackage{wrapfig}
\usepackage{subcaption}
\usepackage{tikz}
\usetikzlibrary{positioning,shapes,decorations,calc,fit,arrows.meta,backgrounds}
\usepackage[inline,shortlabels]{enumitem}
\usepackage{xcolor}
\usepackage{longtable}
\usepackage[automake,acronym]{glossaries}

\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhead[LO,RE]{\textsc{\leftmark}}
\fancyhead[RO,LE]{\textsc{\rightmark}}


\catcode`\_=12

% Hack to make parskip and amsthm go well together.
% \begingroup
%     \makeatletter
%     \@for\theoremstyle:=definition,remark,plain\do{%
%         \expandafter\g@addto@macro\csname th@\theoremstyle\endcsname{%
%             \addtolength\thm@preskip\parskip
%             }}
% \endgroup

\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{lemma}[theorem]{Lemma}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}

\graphicspath{{./graphics/}}

\makeglossaries{}

\begin{document}


\begin{titlepage}
  \centering
  \begin{figure}[h]
    \centering
    \includegraphics{hovedlogo_eng.pdf}
  \end{figure}
  \vspace{1.5cm}
  {\Large TDT4900: Masters Thesis \par}
  \vspace{1cm}
  {\huge CMR:\@ A concurrent memory\\ management system for Rust\par}
  \vspace{2cm}
  {\Large\itshape{}Martin Hafskjold Thoresen\par}
  \vfill
  supervised by\par
  {\large Magnus Lie Hetland}\\
  \vspace{0.2cm}
  co-supervised by\par
  {\large Dan Alistarh}\\
  \vspace{1cm}
  {\large \today\\}
\end{titlepage}

\input{macros.tex}

\begin{abstract}
  abstract
\end{abstract}

\tableofcontents
\listoffigures
\listoftables%


\part{Bing Bong}

\input{chapters/introduction}

\input{chapters/background.tex}

\input{chapters/rust.tex}

\input{chapters/cmr.tex}


\part{Skrrra}

\input{chapters/implementation}

\input{chapters/methodology}

\input{chapters/usage}

\input{chapters/results}

\input{chapters/conclusion}


\printglossary[type=\acronymtype,title=Abbreviations]
\printglossary{}

\bibliographystyle{acm}
\addcontentsline{toc}{chapter}{Bibliography}
\bibliography{sources}

\begin{appendices}
  \chapter{Her ja}
\end{appendices}

\end{document}
