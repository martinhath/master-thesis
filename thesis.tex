\documentclass[b5paper]{report}
\usepackage[lmargin=25mm,rmargin=25mm,tmargin=27mm,bmargin=30mm]{geometry}

\usepackage[T1]{fontenc}
\usepackage[toc]{appendix}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{color}
\usepackage{graphicx}
\usepackage{hyperref}
% \usepackage{libertinust1math}
\usepackage{libertine}
\usepackage{inconsolata}
\usepackage{listings}
% \usepackage{parskip}
\usepackage{subcaption}
\usepackage{tikz}
\usetikzlibrary{positioning,shapes,decorations,calc,fit,arrows.meta,backgrounds}
\usepackage{xcolor}
\catcode`\_=12

% Hack to make parskip and amsthm go well together.
% \begingroup
%     \makeatletter
%     \@for\theoremstyle:=definition,remark,plain\do{%
%         \expandafter\g@addto@macro\csname th@\theoremstyle\endcsname{%
%             \addtolength\thm@preskip\parskip
%             }}
% \endgroup

\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{lemma}[theorem]{Lemma}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}

\graphicspath{{./graphics/}}

\begin{document}

\begin{titlepage}
  \centering
  \begin{figure}[h]
    \centering
    \includegraphics{hovedlogo_eng.pdf}
  \end{figure}
  \vspace{1.5cm}
  {\Large TDT4569: masd \par}
  \vspace{1cm}
  {\huge Tittel her\par}
  \vspace{2cm}
  {\Large\itshape{}Martin Hafskjold Thoresen\par}
  \vfill
  supervised by\par
  \large Magnus Lie Hetland\\
  \vspace{1cm}
  {\large \today\\}
\end{titlepage}

\input{macros.tex}

\begin{abstract}
  abstract
\end{abstract}

\tableofcontents

\chapter{Introduction}

hey hello\cite{linus}

\input{chapters/background.tex}

\input{chapters/rust.tex}

\input{chapters/cmr.tex}

% TODO: own file
\chapter{Implementation}

% TODO: own file
\chapter{Results}

\bibliographystyle{acm}
\addcontentsline{toc}{chapter}{Bibliography}
\bibliography{sources}

\begin{appendices}
  \chapter{Her ja}
\end{appendices}

\end{document}
